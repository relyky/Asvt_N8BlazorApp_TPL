@inherits LayoutComponentBase
@inject IConfiguration config
@inject NavigationManager navSvc

<MudThemeProvider Theme=CustomThemeResource.DefaultTheme />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
  <MudAppBar Elevation=1>
    <MudIconButton Href="/" Icon=@Icons.Material.Filled.Home Color=Color.Inherit Edge=Edge.Start />
    <MudText Typo=Typo.h5 Class="ml-3">@(config["SystemName"])</MudText>
    <MudSpacer />

    <AuthorizeView Context="auth">
      <MudChip T="string" Icon=@Icons.Material.Filled.Person Color=Color.Secondary IconColor=Color.Inherit>@(auth.User.Identity?.Name)</MudChip>
    </AuthorizeView>

    <MudIconButton Icon=@Icons.Material.Filled.MoreVert Color=Color.Inherit Edge=Edge.End />
  </MudAppBar>
  <MudMainContent>
    @Body
  </MudMainContent>
</MudLayout>

<div id="blazor-error-ui">
  An unhandled error has occurred.
  <a href="" class="reload">Reload</a>
  <a class="dismiss">🗙</a>
</div>
